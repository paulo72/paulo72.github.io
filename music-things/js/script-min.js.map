{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-min.js","sourcesContent":["    // GENERAL FUNCTIONS\n\n    // Cookies\n\n      function createCookie(name,value,days) {\n        if (days) {\n          var date = new Date();\n          date.setTime(date.getTime()+(days*24*60*60*1000));\n          var expires = \"; expires=\"+date.toGMTString();\n        }\n        else var expires = \"\";\n        document.cookie = name+\"=\"+value+expires+\"; path=/\";\n      }\n\n      function readCookie(name) {\n        var nameEQ = name + \"=\";\n        var ca = document.cookie.split(';');\n        for(var i=0;i < ca.length;i++) {\n          var c = ca[i];\n          while (c.charAt(0)==' ') c = c.substring(1,c.length);\n          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n        }\n        return null;\n      }\n\n      function eraseCookie(name) {\n        createCookie(name,\"\",-1);\n      }\n\n      \n    // Remove data attributes\n\n      // function removeDataAttributes(target) {\n      // var $target = $(target);\n      //   $.each($target.data(), function (key) {\n      //     var attr = 'data-' + key.replace(/([A-Z])/g, '-$1').toLowerCase(); \n      //     $target.removeAttr(attr);\n      //   });\n      // };\n\n\n    // remove substring \n\n      String.prototype.replaceAt = function(index, replacement) {\n        return this.substr(0, index) + replacement + this.substr(index + replacement.length);\n      }\n\n\n\n\n\n    var intervalz;\n\n\n    function updateScaleInfo() {\n      //console.clear();\n      var pd_scale_tonic    = $('#scale_tonic').val();\n      var pd_scale_type     = $('#scale_type').val();\n      var pd_scale_name     = pd_scale_tonic + ' ' + pd_scale_type;\n      var pd_scale          = Tonal.Scale.get(pd_scale_name).notes;\n      var pd_scale_long     = pd_scale.concat(pd_scale).concat(pd_scale).concat(pd_scale);\n\n      console.log('pd_scale_long',pd_scale_long);\n\n      var pd_scale_output   = '';\n      var keyboardClass     = '';\n      var key_to_highlight;\n\n      var roots = []; \n      var thirds = [];\n      var fifths =  [];\n      var sevenths = [];\n      var ninths = [];\n      var elevenths = [];\n      var thirteenths = [];\n      var counts = [];\n      var oct1 = [];\n      var oct2 = [];\n      var count = 0;\n      var octave = 1;\n      var tone = '';\n      var tonic = '';\n      var starts_above_c = false;\n      var starts_below_c = false;\n      var starts_over_c_passed_below_c = false;\n      var below_c = ['Ab','A','A#','Bb','B','B#','Cb'];\n      var above_c = ['C','C#','Db','D','D#','Eb','E','E#','Fb','F','F#','Gb','G','G#'];\n      var scale = Tonal.Scale.get(pd_scale_name).notes;\n      var end = Tonal.Scale.get(pd_scale_name).notes.length;\n      var listothings = [];\n          listothings = listothings.concat(scale,scale,scale);\n          intervalz = Tonal.Scale.get(pd_scale_name).intervals;\n\n      $('.key, .fret')\n        .attr('data-scale-highlight',null)\n        .attr('data-scale-number', null)\n        .attr('data-scale-highlight-tonic',null)\n        .attr('data-scale-interval',null)\n      ; \n      console.log('pd_scale',pd_scale);\n      pd_scale.forEach( function (item, index) {\n\n        keyboardClass = item;\n\n        if (keyboardClass.charAt(1) == 'b') {\n          keyboardClass = keyboardClass.replaceAt(1, \"-flat\");\n        } else if (keyboardClass.charAt(1) == '#') {\n          keyboardClass = keyboardClass.replaceAt(1, \"-sharp\");\n        }\n\n        fretboardClass = \"fret-\" + keyboardClass;\n        keyboardClass = \"key-\" + keyboardClass;\n        // console.log('fretboardClass',fretboardClass);\n\n\n        key_to_highlight = $('.' + keyboardClass);\n        fret_to_highlight = $('.' + fretboardClass);\n\n        key_to_highlight.addClass('data-scale-number'+(index+1));\n\n        key_to_highlight.attr('data-scale-highlight','1').attr('data-scale-number', index+1 ).attr('data-scale-interval', intervalz[index] );\n        if (index === 0) {\n          key_to_highlight.attr('data-scale-highlight-tonic','1');\n        }\n\n\n        fret_to_highlight.attr('data-scale-highlight','1').attr('data-scale-number', index+1 ).attr('data-scale-interval', intervalz[index] ).attr('data-note-display', item.replace(\"#\", \"♯\").replace(\"b\", \"♭\") );\n        if (index === 0) {\n          fret_to_highlight.attr('data-scale-highlight-tonic','1');\n        }\n\n        // console.log('fret_to_highlight',fret_to_highlight);\n\n\n        pd_scale_output += '<span class=\"scale-tone scale-tone--'+ (index + 1) +'\" data-scale-interval=\"'+intervalz[index] +'\">' + item + '</span>';\n      });\n\n\n      $('#name-of-scale').text(pd_scale_name);     \n      $('#scale_notes').html(pd_scale_output);\n\n\n      while (count < end) {\n\n        thirteenths.push(listothings[count + 12]);\n        elevenths.push(listothings[count + 10]);\n        ninths.push(listothings[count + 8]);\n        sevenths.push(listothings[count + 6]);\n        fifths.push(listothings[count + 4]);\n        thirds.push(listothings[count + 2]); \n        roots.push(listothings[count + 0]);\n\n        tone = Tonal.Scale.get(pd_scale_name).notes[count];\n\n\n        if (count === 0) {\n\n          tonic = tone;\n\n          if( below_c.includes(tone) ) {\n            starts_below_c = true;\n          } else if( above_c.includes(tone) ) {\n            starts_above_c = true;\n          }\n\n          // console.log('starts_below_c',starts_below_c);\n          // console.log('starts_above_c',starts_above_c);\n\n        } else if  (   starts_below_c &&   below_c.includes(tone)  ) {\n\n          octave = 0;\n\n        } else if  (   starts_above_c &&   above_c.includes(tone) &&    starts_over_c_passed_below_c   ) {\n\n          octave = 2;\n\n        } else if  (   starts_above_c &&    below_c.includes(tone)  ) {\n\n          octave = 1;\n          starts_over_c_passed_below_c = true;\n\n        } else {\n\n\n\n          \n\n        }\n\n        oct1_val = Math.round( Tonal.Note.freq( tone + octave ) );\n        oct2_val = Math.round( Tonal.Note.freq( tone + (1 + octave) ) );\n\n        oct1.push(oct1_val);\n        oct2.push(oct2_val);\n \n        counts += count + 1;\n\n        count++;\n      }\n\n\n      count = 0;\n      var thirteenths_string = ''\n      while (count < end) { thirteenths_string += '<td class=\"chords \">' + thirteenths[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n      count = 0;\n      var elevenths_string = ''\n      while (count < end) { elevenths_string  += '<td class=\"chords \">' + elevenths[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n      count = 0;\n      var ninths_string = ''\n      while (count < end) { ninths_string += '<td class=\"chords \">' + ninths[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n      count = 0;\n      var sevenths_string = ''\n      while (count < end) { sevenths_string += '<td class=\"chords \">' + sevenths[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n      count = 0;\n      var fifths_string = ''\n      while (count < end) { fifths_string += '<td class=\"chords\">' + fifths[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n      count = 0;\n      var thirds_string = ''\n      while (count < end) { thirds_string += '<td class=\"chords\">' + thirds[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n\n      count = 0;\n      var roots_string = ''\n      while (count < end) { roots_string += '<td data-note=\"'+roots[count]+3+'\" class=\"chords bold scale-tone scale-tone--' + (count + 1) +'\" data-scale-interval=\"'+intervalz[count]+'\">' + roots[count].replace(\"#\", \"♯\").replace(\"b\", \"♭\") + '</td>'; count++; }\n\n      count = 0;\n      var count_string = ''\n      count = 1;\n      while (count < end + 1 ) { \n        var the1 = pd_scale_long[count-1];\n        var the3 = pd_scale_long[count+1];\n        var the5 = pd_scale_long[count+3];\n        var the7 = pd_scale_long[count+5];\n        var theC = Tonal.Chord.detect([the1,the3,the5,the7]) + ' ';\n        if (theC.includes(',')){\n          theC = theC.substring( 0, theC.indexOf(\",\"));\n        }\n        count_string += '<td class=\"chord_number_'+count+' \">' + intervalz[count-1] + '<div class=\"info\">' + theC + '</div></td>'; \n        count++; \n      }\n\n      count = 0;\n      var sub_string = ''\n      while (count < end) { \n        sub_string += '<td class=\"chords info\">' + oct1[count] + '</td>'; count++; }\n\n      count = 0;\n      var bass_string = ''\n      while (count < end) { bass_string += '<td class=\"chords info\">' + oct2[count] + '</td>'; count++; }\n \n\n      var scale_chords_table =  '<table id=\"the_chords\"><tbody>';\n          scale_chords_table += '<tr class=\"chords_13th\"><td>13th</td>' + thirteenths_string + '</tr>';\n          scale_chords_table += '<tr class=\"chords_11th\"><td>11th</td>' + elevenths_string + '</tr>';\n          scale_chords_table += '<tr class=\"chords_9th\"><td>9th</td>'   + ninths_string + '</tr>';\n          scale_chords_table += '<tr class=\"chords_7th\"><td>7th</td>'   + sevenths_string + '</tr>';\n          scale_chords_table += '<tr class=\"chords_5th\"><td>5th</td>'   + fifths_string + '</tr>';\n          scale_chords_table += '<tr class=\"chords_3rd\"><td>3rd</td>'   + thirds_string + '</tr>';\n          scale_chords_table += '<tr class=\"chords_1st\"><td>Root</td>'  + roots_string + '</tr>';\n          scale_chords_table += '<tr class=\"chord-numbers \"><td>&nbsp;</td>' + count_string + '</tr>';\n          scale_chords_table += '<tr class=\"\"><td class=\"info\">Sub Freq</td>'          + sub_string + '</tr>';\n          scale_chords_table += '<tr class=\"\"><td class=\"info\">Bass Freq</td>'          + bass_string + '</tr>';\n          scale_chords_table += '</tbody></table>';\n  \n      $('#scale_chords').html(scale_chords_table);\n    }\n\n    function updateBPM() {\n      var pd_bpm    = $('#bpm').val();\n      var min       = 60000;\n      var note_1    = (min/pd_bpm*4).toFixed(2) + 'ms';\n      var note_4    = (min/pd_bpm*1).toFixed(2) + 'ms';\n      var note_8dot = (min/pd_bpm*0.75).toFixed(2) + 'ms';\n      var note_8    = (min/pd_bpm*0.5).toFixed(2) + 'ms';\n      var note_16   = (min/pd_bpm*0.25).toFixed(2) + 'ms';\n      $('#note_1').text(note_1);\n      $('#note_4').text(note_4);\n      $('#note_8dot').text(note_8dot);\n      $('#note_8').text(note_8);\n      $('#note_16').text(note_16);\n    }\n\n    function updateChordInfo(){\n      var pd_chord_type = $('#chord_types').val();\n      $('body').attr(\"data-chord-type\", pd_chord_type);\n    }\n\n\n\n\n    function initAudioBits(){\n      var dist = new Tone.Distortion(0.4).toDestination();\n\n      //const synth = new Tone.PolySynth(4, Tone.Synth).connect(dist);\n      var synth = new Tone.Synth().connect(dist);\n      synth.oscillator.type = \"triangle\";\n      synth.toMaster();\n\n\n\n        // const instruments = document.querySelectorAll(\"td[data-note]\");\n\n        // console.log('instruments',instruments);\n\njQuery(document).on('pointerdown','[data-note]', function() { \nconsole.log('this pointerdown',this);\n});\njQuery(document).on('pointerup','[data-note]', function() { \nconsole.log('this pointerup',this);\n});\n \n\n      // instruments.addEventListener(\"pointerdown\", e => {\n      //   console.log('this', this);\n      //   synth.triggerAttack(e.target.dataset.note);\n      // });\n\n      // instruments.addEventListener(\"pointerup\", e => {\n      //   console.log('pointerup')\n      //   synth.triggerRelease();\n      // });\n\n      \n    }\n\n\n\n\n    $(function() {\n      \n      updateScaleInfo();\n      $('#scale_tonic, #scale_type').on('change', function() { updateScaleInfo(); });\n\n      updateChordInfo();\n      $('#chord_types').on('change', function() { updateChordInfo(); });\n\n      updateBPM();\n      $('#bpm').on('change', function() { updateBPM(); });\n\n      $('#instrument').on('change', function() {\n        $('#fretboard,#keyboard').show();\n        if ($('#instrument').val() == \"bass\") { $('#keyboard').hide(); } \n        else if ($('#instrument').val() == \"keyboard\") { $('#fretboard').hide(); }\n      });\n\n      initAudioBits();\n\n\n\n\n\n    }); // ready"]}